# =============================================================================
# SERVER ENVIRONMENT CONFIGURATION
# =============================================================================

PORT=3000

# =============================================================================
# DEPLOYMENT MODE
# =============================================================================
# self-hosted: No billing, no quotas, providers managed via admin panel (default)
# =============================================================================

DEPLOYMENT_MODE=self-hosted

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# These flags allow customization of self-hosted deployments.
#
# ENABLE_QUOTA_ENFORCEMENT=false  # Enable daily usage limits for users
# ENABLE_IDLE_REAPING=true        # Stop idle workspaces automatically
# ENABLE_USAGE_METERING=false     # Track workspace usage metrics
# ENABLE_LOCAL_TUNNELS=true       # Enable local tunnel support
# ENABLE_EMAIL_AUTH=true          # Enable email/password authentication
# ENABLE_GITHUB_AUTH=false        # Enable GitHub OAuth (requires GITHUB_CLIENT_ID/SECRET)
# =============================================================================

# =============================================================================
# URLs
# =============================================================================

# Base URL for the application
BASE_URL=http://localhost:8888

# Base domain for workspace subdomain routing
BASE_DOMAIN=localhost

# Better Auth secret key (generate with: openssl rand -base64 32)
BETTER_AUTH_SECRET=

# Better Auth URL (where auth endpoints are served)
BETTER_AUTH_URL=http://localhost:8888/api

# CORS origin for cross-origin requests
CORS_ORIGIN=http://localhost:8888

# =============================================================================
# DATABASE & REDIS
# =============================================================================

# PostgreSQL connection string
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/gitterm

# Redis connection string
REDIS_URL=redis://localhost:6379

# =============================================================================
# INTERNAL API
# =============================================================================

# Internal API key for service-to-service communication
# Must match INTERNAL_API_KEY in other services and Caddyfile
INTERNAL_API_KEY=dev-internal-key

# =============================================================================
# RAILWAY PROVIDER (Optional)
# =============================================================================
# Only needed if using Railway as a compute provider.
# =============================================================================

RAILWAY_API_URL=https://backboard.railway.app/graphql/v2
RAILWAY_API_TOKEN=
RAILWAY_PROJECT_ID=
RAILWAY_ENVIRONMENT_ID=
RAILWAY_DEFAULT_REGION=us-east4-eqdc4a

# Use public URLs for Railway services (set to true for local development)
PUBLIC_RAILWAY_DOMAINS=false

# =============================================================================
# AUTHENTICATION
# =============================================================================

# Admin Bootstrap (Email Auth)
# Creates an admin user on first startup when email auth is enabled.
# Both must be set together, or neither.
ADMIN_EMAIL=
ADMIN_PASSWORD=

# GitHub OAuth (required if ENABLE_GITHUB_AUTH=true)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# GitHub App (optional - for repo access, both required or neither)
GITHUB_APP_ID=
GITHUB_APP_PRIVATE_KEY=

# =============================================================================
# LOCAL TUNNELS
# =============================================================================

# JWT secrets (generate with: openssl rand -base64 32)
TUNNEL_JWT_SECRET=
AGENT_JWT_SECRET=

# URL shown during device code authentication
DEVICE_CODE_VERIFICATION_URI=http://localhost:8888/verify
